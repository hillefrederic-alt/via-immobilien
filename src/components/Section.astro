---
/**
 * Section - Reusable section wrapper with AOS animation support
 *
 * Provides consistent padding, background colors, and scroll animation
 * for all page sections. Uses existing design tokens from global.css.
 *
 * @example
 * <Section background="cream" animation="fade-up">
 *   <h2>Section Title</h2>
 *   <p>Section content...</p>
 * </Section>
 */

interface Props {
  /** Optional section ID for anchor links */
  id?: string;
  /** Additional CSS classes */
  class?: string;
  /** Background color variant */
  background?: 'cream' | 'white' | 'navy' | 'sand';
  /** AOS animation type (default: fade-up) */
  animation?: string;
  /** AOS animation delay in ms */
  animationDelay?: string;
}

const {
  id,
  class: className = '',
  background = 'cream',
  animation = 'fade-up',
  animationDelay
} = Astro.props;

const backgroundClass = `section--${background}`;
---

<section
  id={id}
  class:list={['section', backgroundClass, className]}
  data-aos={animation}
  data-aos-delay={animationDelay}
>
  <div class="container">
    <slot />
  </div>
</section>

<style>
  .section {
    padding-block: var(--spacing-3xl);
  }

  /* Background variants */
  .section--cream {
    background-color: var(--color-cream);
  }

  .section--white {
    background-color: var(--color-white);
  }

  .section--navy {
    background-color: var(--color-navy);
    color: var(--color-cream);
  }

  .section--sand {
    background-color: var(--color-sand);
  }

  .section--navy :global(h1),
  .section--navy :global(h2),
  .section--navy :global(h3:not(.service-card__title):not(.target-card__title)),
  .section--navy :global(h4),
  .section--navy :global(h5),
  .section--navy :global(h6) {
    color: var(--color-cream);
  }

  /* Card titles stay navy on white/cream card backgrounds */
  .section--navy :global(.service-card__title),
  .section--navy :global(.target-card__title) {
    color: var(--color-navy);
  }

  .section--navy :global(a:not(.cta-button):not(.cta-section__button):not([class*="cta"])) {
    color: var(--color-gold);
  }

  .section--navy :global(a:not(.cta-button):not(.cta-section__button):not([class*="cta"]):hover),
  .section--navy :global(a:not(.cta-button):not(.cta-section__button):not([class*="cta"]):focus) {
    color: var(--color-cream);
  }
</style>
