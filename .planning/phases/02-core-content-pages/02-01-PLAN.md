---
phase: 02-core-content-pages
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/layouts/BaseLayout.astro
  - src/components/Section.astro
  - src/components/Hero.astro
  - src/components/ServiceCard.astro
  - src/components/ProcessStep.astro
  - src/components/Testimonial.astro
autonomous: true

must_haves:
  truths:
    - "AOS library is installed and initialized"
    - "Scroll animations work on page elements with data-aos attributes"
    - "Reusable components exist for all page sections"
  artifacts:
    - path: "src/layouts/BaseLayout.astro"
      provides: "AOS CSS import and initialization script"
      contains: "import 'aos/dist/aos.css'"
    - path: "src/components/Section.astro"
      provides: "Reusable section wrapper with AOS animation support"
      contains: "data-aos"
    - path: "src/components/Hero.astro"
      provides: "Hero section with headline, subheadline, CTA"
      min_lines: 50
    - path: "src/components/ServiceCard.astro"
      provides: "Service card for Leistungen page"
      min_lines: 30
    - path: "src/components/ProcessStep.astro"
      provides: "Process step with number indicator"
      min_lines: 40
    - path: "src/components/Testimonial.astro"
      provides: "Testimonial blockquote card"
      min_lines: 30
  key_links:
    - from: "src/layouts/BaseLayout.astro"
      to: "aos"
      via: "AOS.init() in script"
      pattern: "AOS\\.init"
    - from: "src/components/Section.astro"
      to: "AOS"
      via: "data-aos attribute"
      pattern: "data-aos="
---

<objective>
Install AOS and accessible-astro-components packages, initialize AOS in BaseLayout, and create all reusable UI components for Phase 2 content pages.

Purpose: Establish the component foundation that all 6 content pages will use, enabling scroll animations and consistent section styling across the site.

Output: Working AOS animations, Section wrapper, Hero component, ServiceCard, ProcessStep, and Testimonial components ready for page assembly.
</objective>

<execution_context>
@/Users/frederichille/.claude/get-shit-done/workflows/execute-plan.md
@/Users/frederichille/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-core-content-pages/02-RESEARCH.md

# Existing files to modify/reference
@src/layouts/BaseLayout.astro
@src/styles/global.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install AOS and accessible-astro-components packages</name>
  <files>package.json</files>
  <action>
Run npm install to add required packages:
```bash
npm install aos accessible-astro-components
```

Verify packages are added to package.json dependencies.
  </action>
  <verify>Run `npm list aos accessible-astro-components` - both packages should be listed</verify>
  <done>aos@^2.3.4 and accessible-astro-components@^5.1.2 appear in package.json dependencies</done>
</task>

<task type="auto">
  <name>Task 2: Initialize AOS in BaseLayout</name>
  <files>src/layouts/BaseLayout.astro</files>
  <action>
Modify BaseLayout.astro to:
1. Import AOS CSS in the frontmatter: `import 'aos/dist/aos.css';`
2. Add AOS initialization script at the end of the body (before closing body tag, after CookieBanner)

AOS configuration:
- duration: 600ms
- easing: 'ease-out'
- once: true (animate only once per element)
- offset: 50 (trigger 50px before element enters viewport)
- Do NOT disable on mobile (keep animations everywhere)

Script pattern (inside script tag):
```javascript
import AOS from 'aos';

function initAOS() {
  AOS.init({
    duration: 600,
    easing: 'ease-out',
    once: true,
    offset: 50
  });
}

// Initialize on page load
initAOS();

// Re-init after Astro view transitions (future-proofing)
document.addEventListener('astro:after-swap', initAOS);
```

Keep all existing BaseLayout functionality intact.
  </action>
  <verify>Run `npm run dev`, open browser DevTools, check that AOS CSS is loaded and no console errors appear</verify>
  <done>BaseLayout imports AOS CSS and initializes AOS with correct configuration</done>
</task>

<task type="auto">
  <name>Task 3: Create reusable UI components</name>
  <files>
src/components/Section.astro
src/components/Hero.astro
src/components/ServiceCard.astro
src/components/ProcessStep.astro
src/components/Testimonial.astro
  </files>
  <action>
Create 5 components following BEM naming and existing design tokens:

**1. Section.astro** - Reusable section wrapper
Props interface:
- id?: string
- class?: string
- background?: 'cream' | 'white' | 'navy' (default: 'cream')
- animation?: string (default: 'fade-up')
- animationDelay?: string

Structure:
- section element with data-aos={animation} and data-aos-delay
- Inner container div with .container class
- slot for content
- Padding: var(--spacing-3xl) block

Background variants:
- cream: var(--color-cream)
- white: var(--color-white)
- navy: var(--color-navy) with color: var(--color-cream)

**2. Hero.astro** - Homepage hero section
Props interface:
- headline: string
- subheadline?: string
- introText?: string
- ctaText: string
- ctaHref: string
- secondaryCta?: { text: string; href: string }

Structure:
- section.hero with min-height: 70vh, centered content
- h1 for headline
- p.hero__subheadline for subheadline (if provided)
- p.hero__intro for intro text (if provided)
- div.hero__actions with primary CTA button and optional secondary
- Use data-aos="fade-up" on content

CTA styling:
- Primary: navy background, cream text, gold on hover
- Secondary: transparent with navy border, navy fill on hover

**3. ServiceCard.astro** - Service listing card
Props interface:
- title: string
- items: string[] (list of service items)
- icon?: string (emoji or text icon)

Structure:
- article.service-card with white background, border-radius-lg
- h3 for title with icon
- ul for items list
- Card hover: subtle shadow lift, translateY(-4px)
- data-aos="fade-up"

**4. ProcessStep.astro** - Timeline step for "So arbeite ich"
Props interface:
- step: number (1-4)
- title: string
- description: string
- isLast?: boolean (default: false)

Structure:
- div.process-step with grid layout (indicator | content)
- Indicator: numbered circle (3rem, navy bg, cream text, serif font)
- Connecting line if not last (2px, border color)
- Content: h3 title, p description
- data-aos="fade-up" with delay based on step number

**5. Testimonial.astro** - Customer quote card
Props interface:
- quote: string
- author: string
- role?: string (e.g., "Immobilienverkauf")

Structure:
- blockquote.testimonial with white bg, gold left border (4px)
- p.testimonial__quote with italic text, larger font
- footer with cite for author name and optional role
- data-aos="fade-up"

All components must:
- Use existing CSS custom properties from global.css
- Follow BEM naming convention
- Include JSDoc comment explaining purpose
- Have complete TypeScript interface for props
  </action>
  <verify>
Run `npm run build` - should complete without errors.
Check each component file exists and has correct structure.
  </verify>
  <done>
All 5 components exist with:
- Correct TypeScript interfaces
- BEM-named CSS classes
- data-aos attributes for animations
- Proper use of design tokens
  </done>
</task>

</tasks>

<verification>
1. `npm list aos accessible-astro-components` shows both packages installed
2. `npm run dev` starts without errors
3. `npm run build` completes successfully
4. All 5 component files exist in src/components/
5. BaseLayout.astro contains AOS import and initialization
</verification>

<success_criteria>
- AOS and accessible-astro-components packages installed
- AOS initialized globally in BaseLayout with correct config
- Section, Hero, ServiceCard, ProcessStep, Testimonial components created
- All components use existing design tokens and BEM naming
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-content-pages/02-01-SUMMARY.md`
</output>
