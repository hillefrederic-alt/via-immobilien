---
phase: 03-contact-interactivity
plan: 03
type: execute
wave: 2
depends_on: ["03-01", "03-02"]
files_modified:
  - src/pages/kontakt.astro
  - src/pages/danke.astro
autonomous: true

must_haves:
  truths:
    - "Contact page displays working form with validation"
    - "Contact page displays interactive map"
    - "Phone number is clickable and triggers call on mobile"
    - "Email address is clickable and opens email client"
    - "Form submission redirects to thank you page"
    - "Thank you page thanks user and invites Instagram follow"
  artifacts:
    - path: "src/pages/kontakt.astro"
      provides: "Contact page with form and map integrated"
      contains: ["ContactForm", "ContactMap"]
    - path: "src/pages/danke.astro"
      provides: "Thank you page after form submission"
      min_lines: 50
      contains: ["Vielen Dank", "instagram"]
  key_links:
    - from: "src/pages/kontakt.astro"
      to: "src/components/ContactForm.astro"
      via: "Astro import"
      pattern: "import ContactForm"
    - from: "src/pages/kontakt.astro"
      to: "src/components/ContactMap.astro"
      via: "Astro import"
      pattern: "import ContactMap"
    - from: "ContactForm"
      to: "src/pages/danke.astro"
      via: "form redirect hidden field"
      pattern: "_next.*danke"
---

<objective>
Integrate ContactForm and ContactMap components into the contact page and create the thank you page for successful form submissions.

Purpose: Complete the contact functionality by wiring up all components and providing a warm confirmation experience after form submission.

Output: Fully functional contact page with form, map, clickable contact info, and thank you page
</objective>

<execution_context>
@/Users/frederichille/.claude/get-shit-done/workflows/execute-plan.md
@/Users/frederichille/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-contact-interactivity/03-01-SUMMARY.md
@.planning/phases/03-contact-interactivity/03-02-SUMMARY.md
@src/pages/kontakt.astro
@src/components/Hero.astro
@src/components/Section.astro
@src/layouts/BaseLayout.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update kontakt.astro with ContactForm and ContactMap</name>
  <files>src/pages/kontakt.astro</files>
  <action>
Update the existing kontakt.astro page:

**Imports:**
- Add: import ContactForm from '../components/ContactForm.astro';
- Add: import ContactMap from '../components/ContactMap.astro';

**Replace Form Placeholder:**
- Remove the .form-placeholder div with "Kontaktformular wird in Kurze verfugbar sein."
- Replace with: &lt;ContactForm /&gt;

**Add Map Section:**
- After the contact grid section (white background)
- Before the "Was Sie erwartet" section (cream background)
- Add new Section with background="white" containing:
  - Heading: "Unser Einzugsgebiet"
  - Subtext: "Wir sind fur Sie in der gesamten Rhein-Main-Region tatig."
  - ContactMap component

**Verify Existing Contact Info:**
- Phone link: tel:+4917633445373 (already exists, keep as-is)
- Email link: mailto:denise@via-immobilien.de (already exists, keep as-is)
- These are already clickable from Phase 2

**Keep Existing Sections:**
- Hero section (unchanged)
- Contact info section (phone/email) - keep
- "Was Sie erwartet" section - keep
- CTA section ("Lieber direkt sprechen?") - keep
  </action>
  <verify>npm run dev shows contact page with form and map</verify>
  <done>Contact page displays ContactForm instead of placeholder and includes ContactMap in new section</done>
</task>

<task type="auto">
  <name>Task 2: Create thank you page (danke.astro)</name>
  <files>src/pages/danke.astro</files>
  <action>
Create src/pages/danke.astro:

**Page Metadata:**
- Title: "Vielen Dank | Via Immobilien"
- Description: "Ihre Nachricht wurde erfolgreich versendet. Wir melden uns in Kurze bei Ihnen."

**Layout:**
- Use BaseLayout
- Use Hero component with:
  - headline: "Vielen Dank!"
  - subheadline: "Ihre Nachricht ist bei mir angekommen."

**Content Section (cream background):**
- Centered content, max-width 600px
- Paragraph: "Ich melde mich so schnell wie moglich bei Ihnen - in der Regel innerhalb von 24 Stunden."
- Paragraph: "Folgen Sie mir gerne auf Instagram fur Updates und Einblicke:"
- Instagram link button:
  - href: "https://instagram.com/via_immobilien" (or use actual handle if different)
  - target="_blank" rel="noopener noreferrer"
  - Text: "@via_immobilien auf Instagram folgen"
  - Styled as gold button (similar to CTA buttons elsewhere)

**Styling:**
- .thank-you-content: centered, max-width 600px
- Paragraphs: var(--font-size-lg), margin-bottom
- Instagram link: inline-block button style
  - Gold background, navy text
  - Hover: navy background, cream text
  - Rounded corners, padding
  - Transition on hover
  </action>
  <verify>Navigating to /danke shows thank you page with Instagram link</verify>
  <done>Thank you page exists with confirmation message and Instagram invitation</done>
</task>

</tasks>

<verification>
- [ ] kontakt.astro imports and uses ContactForm component
- [ ] kontakt.astro imports and uses ContactMap component
- [ ] Form replaces the placeholder div
- [ ] Map appears in its own section with heading
- [ ] Phone link is tel: format (clickable)
- [ ] Email link is mailto: format (clickable)
- [ ] danke.astro exists with thank you message
- [ ] danke.astro has Instagram follow button
- [ ] Both pages render without errors
</verification>

<success_criteria>
Contact page fully functional with form, map, and clickable contact info. Thank you page ready to receive form submission redirects. Full user journey from contact page to confirmation is complete.
</success_criteria>

<output>
After completion, create `.planning/phases/03-contact-interactivity/03-03-SUMMARY.md`
</output>
