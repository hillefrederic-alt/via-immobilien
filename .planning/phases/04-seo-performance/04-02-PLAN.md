---
phase: 04-seo-performance
plan: 02
type: execute
wave: 2
depends_on: ["04-01"]
files_modified:
  - src/layouts/BaseLayout.astro
  - src/pages/index.astro
  - src/pages/ueber-mich.astro
  - src/pages/leistungen.astro
  - src/pages/so-arbeite-ich.astro
  - src/pages/kontakt.astro
  - src/pages/faq.astro
  - src/pages/impressum.astro
  - src/pages/datenschutz.astro
autonomous: true

must_haves:
  truths:
    - "Each page has unique, descriptive meta title relevant to content"
    - "Each page has unique meta description (150-160 chars) relevant to content"
    - "LocalBusiness schema markup is present in page source"
    - "Plausible Analytics script loads on all pages"
  artifacts:
    - path: "src/layouts/BaseLayout.astro"
      provides: "LocalBusiness JSON-LD schema and Plausible script"
      contains: "application/ld+json"
    - path: "src/pages/index.astro"
      provides: "Homepage with unique SEO title/description"
      contains: "title="
  key_links:
    - from: "src/layouts/BaseLayout.astro"
      to: "Plausible Analytics"
      via: "script tag"
      pattern: "plausible.io/js/script"
    - from: "src/layouts/BaseLayout.astro"
      to: "Schema.org"
      via: "JSON-LD script"
      pattern: "RealEstateAgent"
---

<objective>
Add page-specific SEO content, LocalBusiness schema markup, and Plausible Analytics integration.

Purpose: Ensure every page has unique, search-optimized metadata and the site has proper local business structured data for Google search results.
Output: All pages with unique titles/descriptions, LocalBusiness schema in layout, Plausible Analytics tracking.
</objective>

<execution_context>
@/Users/frederichille/.claude/get-shit-done/workflows/execute-plan.md
@/Users/frederichille/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-seo-performance/04-RESEARCH.md

Key context:
- Business: Via Immobilien - Denise Semmel, Immobilienmaklerin
- Region: Rhein-Main (Frankfurt area)
- Contact: +49 176 33445373, denise@via-immobilien.de
- Brand values: Vertrauen, ehrlich, bodenstandig, nicht luxurios

Research findings:
- Use RealEstateAgent schema type (more specific than LocalBusiness)
- Include areaServed, telephone, email, address (use placeholders for actual address)
- Plausible Analytics needs no cookie consent (GDPR compliant)
- Plausible script: defer data-domain="via-immobilien.de" src="https://plausible.io/js/script.js"

German SEO best practices:
- Title: 50-60 chars, keyword-rich, brand at end
- Description: 150-160 chars, include call-to-action
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add LocalBusiness schema and Plausible Analytics to BaseLayout</name>
  <files>src/layouts/BaseLayout.astro</files>
  <action>
Add two elements to the head section of BaseLayout.astro:

1. LocalBusiness JSON-LD schema:
```astro
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "RealEstateAgent",
  "name": "Via Immobilien - Denise Semmel",
  "image": new URL('/logo.jpg', Astro.site).toString(),
  "url": Astro.site?.toString(),
  "telephone": "+49 176 33445373",
  "email": "denise@via-immobilien.de",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "PLACEHOLDER_STREET",
    "addressLocality": "PLACEHOLDER_CITY",
    "addressRegion": "Hessen",
    "postalCode": "PLACEHOLDER_ZIP",
    "addressCountry": "DE"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": 50.1109,
    "longitude": 8.6821
  },
  "areaServed": {
    "@type": "Place",
    "name": "Rhein-Main-Region"
  },
  "priceRange": "$$",
  "sameAs": [
    "https://www.instagram.com/via.immobilien/"
  ]
})} />
```

2. Plausible Analytics (add before closing head tag):
```astro
<!-- Plausible Analytics - GDPR compliant, no cookie consent needed -->
<script defer data-domain="via-immobilien.de" src="https://plausible.io/js/script.js"></script>
```

Note: Address fields use PLACEHOLDER_ prefix - these should be filled with real address data before launch. Add to pending todos in STATE.md.
  </action>
  <verify>Run build, view page source - check for application/ld+json with RealEstateAgent and plausible.io script tag</verify>
  <done>BaseLayout includes LocalBusiness JSON-LD schema and Plausible Analytics script</done>
</task>

<task type="auto">
  <name>Task 2: Add unique SEO metadata to all pages</name>
  <files>
src/pages/index.astro
src/pages/ueber-mich.astro
src/pages/leistungen.astro
src/pages/so-arbeite-ich.astro
src/pages/kontakt.astro
src/pages/faq.astro
src/pages/impressum.astro
src/pages/datenschutz.astro
  </files>
  <action>
Update each page's BaseLayout props with unique, keyword-optimized title and description:

**Homepage (index.astro):**
```
title="Immobilienmaklerin Frankfurt Rhein-Main | Via Immobilien - Denise Semmel"
description="Ihre vertrauensvolle Begleitung beim Immobilienverkauf in der Rhein-Main-Region. Ehrliche Beratung, personliche Betreuung, faire Konditionen."
```

**Uber mich (ueber-mich.astro):**
```
title="Uber mich - Denise Semmel | Via Immobilien Frankfurt"
description="Lernen Sie Denise Semmel kennen - Ihre Immobilienmaklerin mit Herz in der Rhein-Main-Region. Ehrlich, bodenstandig und immer an Ihrer Seite."
```

**Leistungen (leistungen.astro):**
```
title="Leistungen - Verkauf & Vermietung | Via Immobilien"
description="Professionelle Immobilienvermittlung: Verkauf und Vermietung in Frankfurt und Rhein-Main. Von der Bewertung bis zum Vertragsabschluss."
```

**So arbeite ich (so-arbeite-ich.astro):**
```
title="So arbeite ich - Mein 4-Schritte-Prozess | Via Immobilien"
description="Transparent und strukturiert: Erfahren Sie, wie ich Sie in 4 Schritten zum erfolgreichen Immobilienverkauf begleite. Klar, ehrlich, zuverlassig."
```

**Kontakt (kontakt.astro):**
```
title="Kontakt - Jetzt unverbindlich anfragen | Via Immobilien"
description="Kontaktieren Sie Denise Semmel fur eine kostenlose Erstberatung. Telefon: +49 176 33445373 oder nutzen Sie das Kontaktformular."
```

**FAQ (faq.astro):**
```
title="Haufige Fragen zum Immobilienverkauf | Via Immobilien"
description="Antworten auf Ihre Fragen rund um Immobilienverkauf und -vermietung in der Rhein-Main-Region. Ehrliche Antworten von Denise Semmel."
```

**Impressum (impressum.astro):**
```
title="Impressum | Via Immobilien"
description="Impressum und rechtliche Angaben von Via Immobilien - Denise Semmel, Immobilienmaklerin in der Rhein-Main-Region."
```

**Datenschutz (datenschutz.astro):**
```
title="Datenschutzerklarung | Via Immobilien"
description="Datenschutzerklarung von Via Immobilien. Informationen zur Verarbeitung Ihrer personenbezogenen Daten gema√ü DSGVO."
```

For each page, update the BaseLayout component call to include both title and description props.
  </action>
  <verify>
Run this command to verify no duplicate titles:
```bash
grep -rh 'title=' src/pages/*.astro | grep -o 'title="[^"]*"' | sort | uniq -c | grep -v '^[[:space:]]*1 ' || echo "All titles are unique"
```
And verify descriptions exist on all pages:
```bash
for f in src/pages/*.astro; do grep -q 'description=' "$f" && echo "$f: has description" || echo "$f: MISSING description"; done
```
  </verify>
  <done>All 8 pages have unique, keyword-optimized title and description meta tags (verified programmatically)</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. View source of homepage - contains RealEstateAgent JSON-LD schema
2. View source of any page - contains plausible.io script
3. Each page has different title tag (not just "Via Immobilien | Page")
4. Each page has different meta description (check via view-source)
5. Titles are 50-60 characters, descriptions are 150-160 characters
6. LocalBusiness schema validates at https://search.google.com/test/rich-results (use URL after deployment)
</verification>

<success_criteria>
- LocalBusiness (RealEstateAgent) schema present on all pages
- Plausible Analytics script loads on all pages
- All 8 public pages have unique, descriptive titles
- All 8 public pages have unique, action-oriented descriptions
- Schema includes business name, phone, email, area served
- No duplicate titles or descriptions across pages
</success_criteria>

<output>
After completion, create `.planning/phases/04-seo-performance/04-02-SUMMARY.md`
</output>
